 <!DOCTYPE html>
<html>
<head>
	
	<meta charset="UTF-8" />
	
	<title>
        
	Template post | Buckley's Chance

    </title>
	
    <meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- JS -->
	

	
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.js" integrity="sha384-YNHdsYkH6gMx9y3mRkmcJ2mFUjTd0qNQQvY9VYZgQd7DcN7env35GzlmFaZ23JGp" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"></script>
		<script>
			document.addEventListener("DOMContentLoaded", function() {
				renderMathInElement(document.body, {
					// customised options
					// • auto-render specific keys, e.g.:
					delimiters: [
						{left: '$$', right: '$$', display: true},
						{left: '$', right: '$', display: false},
						{left: '\\(', right: '\\)', display: false},
						{left: '\\[', right: '\\]', display: true}
					],
					// • rendering keys, e.g.:
					throwOnError : false
				});
			});
		</script>
	

	
		<meta charset="utf-8">
		<script src="https://d3js.org/d3.v6.min.js"></script>
	

	
		<meta charset="utf-8">
		<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
		<script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
		<script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
	

	<script type="text/javascript">
		function loadCSS(path) { 
			let file = document.createElement("link");
			file.setAttribute("rel", "stylesheet");
			file.setAttribute("type", "text/css");
			file.setAttribute("href", path);
			document.head.appendChild(file);
		}

		var graphs = [];
	</script>

	
		<meta name="robots" content="noindex">
		<meta name="googlebot" content="noindex">
	    



	<!-- Styling -->
	<script src="https://kit.fontawesome.com/3142a8f83c.js" crossorigin="anonymous" SameSite=Lax></script>
	<link rel="stylesheet" href="/css/main.css">

	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Philosopher:wght@700&family=Roboto+Mono:wght@300;400;500;700&family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">

</head>

<body class="post">

	<div>

	

	

	

	<header>

		<a href="/" class="logotype masthead">
			<span>Buckley's</span>
			<div class="scene">
				<div class="cube">
					<div class="face front">
						<div class="dots">
							<b class="sp"></b> <b class="sp"></b> <b class="sp"></b>
							<b class="sp"></b> <b class="dt"></b> <b class="sp"></b>
							<b class="sp"></b> <b class="sp"></b> <b class="sp"></b>
						</div>
					</div>
					<div class="face back">
						<div class="dots">
							<b class="dt"></b> <b class="sp"></b> <b class="dt"></b>
							<b class="dt"></b> <b class="sp"></b> <b class="dt"></b>
							<b class="dt"></b> <b class="sp"></b> <b class="dt"></b>
						</div>
					</div>
					<div class="face right">
						<div class="dots">
							<b class="dt"></b> <b class="sp"></b> <b class="sp"></b>
							<b class="sp"></b> <b class="dt"></b> <b class="sp"></b>
							<b class="sp"></b> <b class="sp"></b> <b class="dt"></b>
						</div>
					</div>
					<div class="face left">
						<div class="dots">
							<b class="dt"></b> <b class="sp"></b> <b class="dt"></b>
							<b class="sp"></b> <b class="sp"></b> <b class="sp"></b>
							<b class="dt"></b> <b class="sp"></b> <b class="dt"></b>
						</div>
					</div>
					<div class="face top">
						<div class="dots">
							<b class="dt"></b> <b class="sp"></b> <b class="dt"></b>
							<b class="sp"></b> <b class="dt"></b> <b class="sp"></b>
							<b class="dt"></b> <b class="sp"></b> <b class="dt"></b>
						</div>
					</div>
					<div class="face bottom">
						<div class="dots">
							<b class="sp"></b> <b class="sp"></b> <b class="dt"></b>
							<b class="sp"></b> <b class="sp"></b> <b class="sp"></b>
							<b class="dt"></b> <b class="sp"></b> <b class="sp"></b>
						</div>
					</div>
				</div>
			</div>
			<span>Chance</span>
		</a>

		

		<h1>Template post</h1>

		<h2>This is a template post, with which to refine the stylesheets for posts in general.</h2>


		
			<hr />

			<div class="attributes">

				<h3 class="authors">Authors</h3>

				<div class="author-list">
					
						<a href="https://lukethorburn.com">Luke Thorburn</a>
					
						<a >Liam Carroll</a>
					
				</div>

				<h3 class="affiliations">Affiliations</h3>

				<div class="affiliation-list">
					
						<a href="https://unimelb.edu.au">University of Melbourne</a>
					
						<a href="/">Buckley&#39;s Chance</a>
					
				</div>

				<h3 class="published">Published</h3>
				
				
					<time class="published">(still a draft)</time>
				

				

					<h3 class="updated">Last&nbsp;Updated</h3>

					
						<time class="updated">(still a draft)</time>
					

				

			</div>
		

	</header>

	<article>
	
		
			<p>Articles usually start with an introduction, in the form of a paragraph like this. Then, they might be broken up into sections, using titles like the one below.</p>
<hr>
<h1>Section name</h1>
<h2>The name of a subsection</h2>
<h3>Third-level heading</h3>
<p>Note that while styles are defined for three levels of headings, in practice we anticipate using them sparingly.</p>
<hr>
<h1>Links</h1>
<p>Inline hyperlinks, such as to <a href="https://ourworldindata.org/">Our World in Data</a> or <a href="https://parametric.press/issue-02/">Parametric Press</a>, are demonstrated in this sentence.</p>
<hr>
<h1>Lists</h1>
<p>Ordered lists look this …</p>
<ol>
<li>Explorable Explanations</li>
<li>The Markup</li>
<li>Guardian Datablog</li>
</ol>
<p>… and unordered lists look like this…</p>
<ul>
<li>The Pudding</li>
<li>Distil</li>
<li>Stubborn Mule</li>
</ul>
<p>… and definition lists look like this.</p>
<dl>
<dt>First concept</dt>
<dd>Definition of first concept.</dd>
<dt>Concept #2</dt>
<dd>Definition of second concept.</dd>
<dt>Another concept</dt>
<dd>Explanation for third concept.</dd>
</dl>
<hr>
<h1>Blockquotes</h1>
<p>Quotes can be uncited …</p>
<blockquote>
<p>A quote.</p>
</blockquote>
<p>… or include attribution.</p>
<figure class="c-blockquote">
<blockquote>
<p>Another quote. This one is a bit longer and more interesting.
That’s one small step for [a] man, one giant leap for mankind.</p>
</blockquote>
<figcaption class="c-blockquote__attribution"><strong>Neil Armstrong</strong> (1969, July 21)</figcaption>
</figure>
<hr>
<h1>Figures</h1>
<h2>Positioning</h2>
<p>Nullam et nibh in tellus tincidunt volutpat. Vestibulum lobortis nisi et lectus convallis, eget semper arcu sagittis. Aliquam lectus libero, feugiat vitae nibh at, malesuada scelerisque ipsum. In erat elit, pretium quis viverra in, dapibus quis arcu. Sed ut molestie lacus. Nam gravida ex odio, at aliquam lectus lacinia venenatis. Aenean condimentum eleifend libero eget faucibus. Aliquam condimentum sollicitudin purus, vitae pretium magna aliquet sed. Morbi feugiat, turpis ac iaculis gravida, arcu mauris placerat erat, vel faucibus felis neque quis risus. Fusce et augue quis velit dictum aliquam sed vel enim. Pellentesque a tristique odio. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec faucibus vehicula magna vitae fermentum.</p>
<div class="placeholder fig inset">.fig .inset</div>
<p>Donec accumsan arcu vel elit auctor, nec blandit neque venenatis. Nam quis urna a diam mollis dignissim auctor vestibulum massa. Pellentesque vehicula mauris eget augue aliquet eleifend. Etiam cursus quam sed diam convallis, eu euismod metus placerat. Nullam purus purus, luctus vitae magna quis, venenatis efficitur dolor. Suspendisse eget euismod sem, et tempor velit. Vivamus cursus tincidunt facilisis. Integer nisl turpis, gravida nec velit quis, iaculis blandit ligula. Suspendisse vitae felis lobortis, auctor massa a, consequat felis. Duis luctus vel tortor nec elementum. Mauris quis volutpat arcu.</p>
<div class="placeholder fig outset-1">.fig .outset-1</div>
<div class="placeholder fig outset-2">.fig .outset-2</div>
<div class="placeholder fig outset-3">.fig .outset-3</div>
<div class="placeholder fig outset-4">.fig .outset-4</div>
<p>Integer mi sem, euismod quis lacus sed, suscipit vulputate turpis. Phasellus ultricies metus tortor, non faucibus nibh tincidunt eu. Donec at facilisis justo. Sed pulvinar sed mi vitae ullamcorper. Pellentesque ultrices tristique dapibus. Donec sit amet justo enim. Nam at urna ac risus tempus sagittis. Aenean mattis mattis velit id ultricies. Donec ut volutpat ex.</p>
<div class="placeholder fig full-width">.fig .full-width</div>
<div class="placeholder fig full-width-inset">.fig .full-width-inset</div>
<p>Morbi a scelerisque mauris. Donec lacinia nibh at nisi imperdiet sagittis. Donec eu ipsum consequat, fringilla magna vel, fringilla sem. Praesent aliquam ante metus, ut dignissim augue vestibulum nec. Nam aliquet justo sagittis est facilisis, quis auctor nibh porta. Ut mollis sem ut ligula dapibus ornare. Sed ut lectus a orci sollicitudin fringilla. Aenean porttitor turpis libero, quis laoreet arcu fringilla elementum. Ut eget lectus odio.</p>
<div class="placeholder fig side-1">.fig .side-1</div>
<div class="placeholder fig side-2">.fig .side-2</div>
<div class="placeholder fig side-3">.fig .side-3</div>
<p>Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Vestibulum vitae nisi dui. Praesent tellus mauris, pellentesque eget lorem non, laoreet condimentum velit. Sed sagittis enim enim, non tincidunt nunc tempor eget. Morbi lacus nisi, accumsan ac augue ac, rhoncus mollis orci. Nullam nec imperdiet ipsum. Etiam fringilla volutpat lobortis. Ut et diam efficitur, facilisis urna in, iaculis erat. Morbi et molestie purus. Mauris interdum, mauris sed euismod cursus, ex dolor vehicula neque, at egestas dui libero tempus magna.</p>
<h2>Graphing libraries</h2>
<p>Non-bespoke graphs are created using <code>Vega</code>, such as the one below.</p>
<div class="fig outset-1 increase-margin-2">
				<div id="graph-container-example1" class="graph-container"></div></div>
			<script type="text/javascript">
				graphs.push("example1")
			</script>
<p>Graphs can also have interactive toggles, which are generated using an extension of the <code>Vega</code> graph specification. An example of such toggles is below.</p>
<div class="fig outset-3 increase-margin-2">
				<div id="graph-container-example2" class="graph-container"></div><div class="toggles"><div class="toggle-group">
				<div class="group-contents">
					<div class="toggle-box">
				<div>
					<div class="name">Colour Scheme</div>
					<div class="description">The colour scheme used by the stacked bars.</div>
				</div>
				<div><select name="ColourScheme" id="select-example2-ColourScheme" autocomplete=off>
						<option value="greys" selected>greys</option>
<option value="viridis" >viridis</option>
<option value="inferno" >inferno</option>
					</select></div></div><div class="toggle-box">
				<div>
					<div class="name"># Categories</div>
					<div class="description">The number of categories plotted.</div>
				</div>
				<div><select name="nCategories" id="select-example2-nCategories" autocomplete=off>
						<option value="0" >0</option>
<option value="1" >1</option>
<option value="2" >2</option>
<option value="3" >3</option>
<option value="4" selected>4</option>
					</select></div></div>
				</div>
			</div></div></div>
			<script type="text/javascript">
				graphs.push("example2")
			</script>
<p>You can also import arbitrary content from a HTML file, with (optionally) associated CSS stylesheets or JS scripts. This might be useful for separating out a cumbersome HTML table definition from the main content, or for importing arbitrary graphs that use a different (non-<code>Vega</code>) graphing library, such as <code>d3</code>.</p>
<div class="fig outset-4 increase-margin-2">
	<svg id="graph-d3-example"></svg>
</div><script type="text/javascript">
					loadCSS("/posts/template/graph-d3-example.css");
				</script><script src="/posts/template/graph-d3-example.js"></script>
<p>Nunc interdum odio a turpis suscipit, eu varius massa lobortis. Integer pellentesque eros ac ipsum ultricies, ac dignissim felis blandit. Integer molestie diam bibendum elit congue tincidunt. Nunc faucibus nulla arcu, nec laoreet nunc porttitor a. Integer ac sapien libero. Etiam nec cursus leo. Proin cursus nec felis a pretium. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nunc faucibus ultrices lacus. Donec iaculis non tellus at gravida.</p>
<hr>
<h1>Formulae</h1>
<p>You can include formulae using LaTeX notation. We use the <a href="https://katex.org/">KaTeX</a> library to render equations.</p>
<p>$$ \frac{1}{\Bigl(\sqrt{\phi \sqrt{5}}-\phi\Bigr) e^{\frac25 \pi}} = 1+\frac{e^{-2\pi}} {1+\frac{e^{-4\pi}} {1+\frac{e^{-6\pi}} {1+\frac{e^{-8\pi}} {1+\cdots} } } } $$</p>
<p>$$ \left( \sum_{k=1}^n a_k b_k \right)^2 \leq \left( \sum_{k=1}^n a_k^2 \right) \left( \sum_{k=1}^n b_k^2 \right) $$</p>
<p>$$ {1 +  \frac{q^2}{(1-q)}+\frac{q^6}{(1-q)(1-q^2)}+\cdots }= \prod_{j=0}^{\infty}\frac{1}{(1-q^{5j+2})(1-q^{5j+3})} $$</p>
<hr>
<h1>Sidenotes</h1>
<p>Vivamus bibendum fermentum velit faucibus venenatis. Morbi venenatis eros sit amet sapien tincidunt hendrerit. Interdum et malesuada fames ac ante ipsum primis in faucibus. Aliquam efficitur posuere urna vel maximus. Quisque malesuada pulvinar lectus in convallis. Suspendisse enim ligula, condimentum condimentum finibus quis, rutrum eu lacus. Proin vitae ultricies ex. Nam ut<label id="fnref1" for="sn-1" class="margin-toggle sidenote-number"></label>
			<input type="checkbox" id="sn-1" class="margin-toggle"/>
			<span id="#sidenote-1" class="sidenote R">This is a right sidenote. Note that there are some limitations to sidenotes: no effort is taken to ensure they don’t overlap, and there can be only one per paragraph. This is due to the difficulties involved in implementing them robustly across all screen widths and mobile devices. You can, however, specify the side on which they are positioned.</span>
		 ligula fringilla, auctor sapien ut, vestibulum orci. Fusce porttitor, sapien in luctus interdum, nunc lectus sagittis ante, maximus feugiat odio neque ac lectus.</p>
<p>Nunc interdum odio a turpis suscipit, eu varius massa lobortis. Integer pellentesque eros ac ipsum ultricies, ac dignissim felis blandit. Integer molestie diam bibendum elit congue tincidunt. Nunc faucibus nulla arcu, nec laoreet nunc porttitor a. Integer ac sapien libero. Etiam nec cursus leo. Proin cursus nec felis a pretium. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus<label id="fnref2" for="sn-2" class="margin-toggle sidenote-number"></label>
			<input type="checkbox" id="sn-2" class="margin-toggle"/>
			<span id="#sidenote-2" class="sidenote L">This is shorter sidenote on the left hand side. Try narrowing the browser window to see what happens when it becomes too narrow to display sidenotes.</span>
		. Nunc faucibus ultrices lacus. Donec iaculis non tellus at gravida.</p>
<p>Duis feugiat dignissim magna. Duis at tristique enim. Phasellus id efficitur augue. Donec ut ante sit amet orci rutrum varius. Maecenas suscipit est odio, eget varius diam aliquet vel. Nulla pulvinar laoreet justo iaculis posuere. Pellentesque vestibulum condimentum eros. Curabitur ipsum lorem, posuere ut viverra ut, finibus vitae purus. In commodo congue urna. Integer cursus, turpis a pulvinar feugiat, orci sapien molestie lacus, ut volutpat magna velit eget quam. Mauris ut libero vitae est eleifend fermentum. Ut vitae felis fermentum, pulvinar ligula a, pharetra diam. Etiam id orci at lorem hendrerit lobortis.</p>
<hr>
<h1>Citations</h1>
<p>Reference data can be included via a BibTeX file in the <code>/_data/</code> directory, with the filename referenced in the post metadata. A bibliography will then be generated and included using all the references in the BibTeX file.</p>
<p>To insert a citation inline, use the syntax <code>[@xyz]</code> where <code>xyz</code> is the citation reference used in the BibTeX file.</p>
<p>This will generate a fairly generic looking inline citation that looks like this <a class="ref" onmouseenter="create_modal_ref(this, 'ausdata')" onmouseleave="destroy_modal_ref()"><i class="fad fa-file-alt"></i></a>. The details of the citation will appear on hover.</p>
<p>This leaves it up to the author to decide exactly how to describe the citation in the text, be it author-date or something more organic. We might want a convention, but can figure it out as we go. Probably don’t want anything too intimidatingly formal.</p>
<p>Here’s another citation for the fun of it, on custom vs. in-house tools in data journalism <a class="ref" onmouseenter="create_modal_ref(this, 'outofbox')" onmouseleave="destroy_modal_ref()"><i class="fad fa-file-alt"></i></a>.</p>


		

	</article>


	
	<div class="backmatter">

		
			<h1>Acknowledgements</h1>
			<p>Thanks to Joe Blow and Mary Doe.</p>

		

		<h1>Data + Code</h1>
		<p>...</p>
		
		<h1>Footnotes</h1><ol class="footnotes-list">
<li id="fn1" class="footnote-item">This is a right sidenote. Note that there are some limitations to sidenotes: no effort is taken to ensure they don’t overlap, and there can be only one per paragraph. This is due to the difficulties involved in implementing them robustly across all screen widths and mobile devices. You can, however, specify the side on which they are positioned. <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item">This is shorter sidenote on the left hand side. Try narrowing the browser window to see what happens when it becomes too narrow to display sidenotes. <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
</ol>
		

		
			<h1>References</h1><div class="csl-bib-body">
				<div id="bib-outofbox" data-csl-entry-id="outofbox" class="csl-entry">
					<span class="title">Out-of-the-box vs. in-house tools: how do they affect data journalism in Australia?</span> <a href="https://doi.org/10.1177/1329878X20961569">[link]</a> <br />
					de-Lima-Santos, M., Schapals, A. and Bruns, A., 2020. Media International Australia.
				</div>
			
				<div id="bib-ausdata" data-csl-entry-id="ausdata" class="csl-entry">
					<span class="title">The evolution of data journalism: A case study of Australia</span> <a href="https://doi.org/10.1080/1461670X.2018.1539343">[link]</a> <br />
					Wright, S. and Doyle, K., 2019. Journalism Studies.
				</div>
			</div>
		
		
		<h1>Corrections</h1>
		
			<p>No corrections have been made to this article.</p>
		

		<h1>Reuse</h1>
		<p>...</p>

		<h1>Citation</h1>
		<p>In academic contexts, please cite this work using a citation similar to the following.</p>
		<pre class="wrap">Thorburn and Carroll, "Template post", Buckley's Chance, 2021.</pre>
		<p>Here is the BibTeX entry.</p>
<pre>@article{template2021,
  author = {Thorburn, Luke and Carroll, Liam},
  title = {Template post},
  journal = {Buckley's Chance},
  year = {2021},
  url = {https://buckleys.pub/template}
}</pre>

	</div>
	

	<script>
		// UTILITY FUNCTIONS FOR COLLAPSIBLE SECTIONS

		// document.querySelector('.collapsible')
		// 	.addEventListener("click", function(ev) {
		// 		ev.target.classList.toggle('collapsed');
		// 	})

		// UTILITY FUNCTIONS FOR CITATION POPUPS.

		var mouseOverModal = false;

		function create_modal_ref(el, id) {
			
			let bibref = document.querySelector(`#bib-${id}`),
				text_column = document.querySelector('article > p').getBoundingClientRect();

			let ref = document.createElement("div");
			ref.setAttribute('class', 'hover-ref');
			ref.setAttribute('style', `top: ${el.getBoundingClientRect().bottom + 10}px; left: ${text_column.left}px; width: ${text_column.right - text_column.left}px;`)
			ref.setAttribute('onmouseenter', 'hovering()');
			ref.setAttribute('onmouseleave', 'unhovering()');
			ref.innerHTML = bibref.innerHTML;

			document.querySelector('article').appendChild(ref); 

			mouseOverModal = true;
		}

		function destroy_modal_ref() {
			mouseOverModal = false;
			setTimeout(() => {
				if (!mouseOverModal) {
					let refs = document.querySelectorAll('.hover-ref');
					for (let ref of refs) {
						ref.remove();
					}
				}
			}, 150);
		}

		function hovering() {
			mouseOverModal = true;
		}

		function unhovering() {
			mouseOverModal = false;
			setTimeout(() => {
				if (!mouseOverModal) {
					let refs = document.querySelectorAll('.hover-ref');
					for (let ref of refs) {
						ref.remove();
					}
				}
			}, 150);
		}
	</script>

	<script type="text/javascript">

		var views = {};

		function render(key, spec) {
			
			// Add default graph config.

			let defaultConfig = {
				axis: {
					labelFont: "Roboto, Helvetica, Arial, sans-serif",
					titleFont: "Roboto, Helvetica, Arial, sans-serif",
					titleFontSize: 20,
					titleFontWeight: 400,
					titleColor: "#33691e"
				}, 
				legend: {
					labelFont: "Roboto, Helvetica, Arial, sans-serif",
					titleFont: "Roboto, Helvetica, Arial, sans-serif",
					labelFontSize: 18,
					labelColor: "#000000",
					titleColor: "#33691e",
					titlePadding: 15,
					titleFontSize: 18,
					symbolSize: 360,
					labelSeparation: 10,
					labelOffset: 10,
					offset: 20,
					titleFontWeight: 500,
					labelFontWeight: 300,
					layout: {
						margin: 30
					}
				},
				title: {
					font: "Roboto, Helvetica, Arial, sans-serif",
					subtitleFont: "Roboto, Helvetica, Arial, sans-serif",
					fontSize: 22,
					fontWeight: 500,
					color: "#33691e",
					subtitleFontSize: 20,
					subtitleFontWeight: 300,
					subtitlePadding: 12,
					offset: 30
				}
			};
			if (spec.hasOwnProperty('config')) {
				spec.config.axis = { ...defaultConfig.axis, ...spec.config.axis };
				spec.config.legend = { ...defaultConfig.legend, ...spec.config.legend };
				spec.config.title = { ...defaultConfig.title, ...spec.config.title };
			} else {
				spec.config = defaultConfig;
			}

			// Create BC property if doesn't already exist.

			if (!spec.hasOwnProperty('BC')) {
				spec.BC = {};
			}

			// Specify renderer if not already specified.

			if (!spec.BC.hasOwnProperty('renderer')) {
				spec.BC.renderer = 'svg'; // Either 'svg' or 'canvas'.
			}

			// Define desired aspect ratio.

			if (spec.hasOwnProperty('width') & spec.hasOwnProperty('height')) {
				spec.BC.aspectRatio = spec.width / spec.height;
			} else {
				spec.BC.aspectRatio = 1.5;
			}
			delete spec.width;
			delete spec.height;

			// Define threshold width between two types of graph scaling.
				// Above this width, the graph is re-rendered to fit the space available.
				// (eg. text will stay its specified size)
				// Below this width, the graph is simply scaled down to fit the space available.
				// (eg. text will be smaller than the specified size)
			if (!spec.BC.hasOwnProperty('minWidth')) {
				spec.BC.minWidth = 800;
			}

			// Generate signals for specified toggles.

			if (!spec.hasOwnProperty('signals')) {
				spec.signals = [];
			}
			if (spec.BC.hasOwnProperty('toggle-groups')) {
				for (let toggleGroup of spec.BC['toggle-groups']) {
					for (let toggle of toggleGroup.toggles) {
						spec.signals.push({
							name: toggle.signalName,
							update: `'${toggle.options.filter(d => d.default)[0].value}'`,
							on: [{
								events: {
									source: `#select-${key}-${toggle.signalName}`,
									type: "change"
								},
								update: "event.target.value"
							}]
						})
					}
				}
			}

			// Store reference to wrapper element.

			spec.BC.container = document.querySelector(`#graph-container-${key}`);

			// Create the view.

			let width = Math.max(spec.BC.container.offsetWidth, spec.BC.minWidth);
			vegaEmbed(
				`#graph-container-${key}`,
				spec,
				opt = {
					renderer: spec.BC.renderer,
					actions: false,
					width: width,
					height: width / spec.BC.aspectRatio
				}
			).then(function(result) {
				
				views[key] = result.view;

				// Make responsive.

				if (spec.BC.renderer === 'canvas') {
					
					spec.BC.resize = () => {
						let width = Math.max(spec.BC.container.offsetWidth, spec.BC.minWidth);
						views[key]
							.width(width)
							.height(width / spec.BC.aspectRatio)
							.run();
					};
					window.addEventListener('resize', spec.BC.resize);
				
				} else {
					
					function removeWidthHeightAttributes() {
						// Remove width/height attributes of Vega SVG and let viewBox handle the responsive behaviour.
						let viewDom = spec.BC.container.firstElementChild;
						viewDom.removeAttribute('width');
						viewDom.removeAttribute('height');
					}

					spec.BC.resize = () => {
						let width = Math.max(spec.BC.container.offsetWidth, spec.BC.minWidth);
						views[key]
							.width(width)
							.height(width / spec.BC.aspectRatio)
							.runAsync()
							.then(vw => {
								removeWidthHeightAttributes();
							});
						
					};
					window.addEventListener('resize', spec.BC.resize);

					removeWidthHeightAttributes();
					
				}

			}).catch(console.error);

			return views[key];

		}
  
		for (let key of graphs) {
		
			fetch('/posts/template/graph-' + key + '.json')
				.then(result => result.json())
				.then(spec => render(key, spec))
				.catch(err => console.error(err));

		}

	</script>



	</div>

	<footer>

		<div>
			<a href="/" class="logotype footer">
				<div class="scene">
					<div class="cube">
						<div class="face front">
							<div class="dots">
								<b class="sp"></b> <b class="sp"></b> <b class="sp"></b>
								<b class="sp"></b> <b class="dt"></b> <b class="sp"></b>
								<b class="sp"></b> <b class="sp"></b> <b class="sp"></b>
							</div>
						</div>
						<div class="face back">
							<div class="dots">
								<b class="dt"></b> <b class="sp"></b> <b class="dt"></b>
								<b class="dt"></b> <b class="sp"></b> <b class="dt"></b>
								<b class="dt"></b> <b class="sp"></b> <b class="dt"></b>
							</div>
						</div>
						<div class="face right">
							<div class="dots">
								<b class="dt"></b> <b class="sp"></b> <b class="sp"></b>
								<b class="sp"></b> <b class="dt"></b> <b class="sp"></b>
								<b class="sp"></b> <b class="sp"></b> <b class="dt"></b>
							</div>
						</div>
						<div class="face left">
							<div class="dots">
								<b class="dt"></b> <b class="sp"></b> <b class="dt"></b>
								<b class="sp"></b> <b class="sp"></b> <b class="sp"></b>
								<b class="dt"></b> <b class="sp"></b> <b class="dt"></b>
							</div>
						</div>
						<div class="face top">
							<div class="dots">
								<b class="dt"></b> <b class="sp"></b> <b class="dt"></b>
								<b class="sp"></b> <b class="dt"></b> <b class="sp"></b>
								<b class="dt"></b> <b class="sp"></b> <b class="dt"></b>
							</div>
						</div>
						<div class="face bottom">
							<div class="dots">
								<b class="sp"></b> <b class="sp"></b> <b class="dt"></b>
								<b class="sp"></b> <b class="sp"></b> <b class="sp"></b>
								<b class="dt"></b> <b class="sp"></b> <b class="sp"></b>
							</div>
						</div>
					</div>
				</div>
				
			</a>

			<span class="tagline">Data-driven explorable explanations, on topics relevant to Australians.</span>

			<nav>
				<a href="/">Home</a>
				<a href="/about/">About</a>
				<a href="/subscribe/">Subscribe</a>
				<a href="/contact/">Contact</a>

				<div class="icons">
					<a href="https://twitter.com/BuckleysPub"><i class="fab fa-twitter"></i></a>
					<a href="https://github.com/buckleys-chance"><i class="fab fa-github"></i></a>
					<a href="/rss.xml"><i class="fas fa-rss"></i></a>
				</div>
			</nav>

			<div class="colophon">
				<p>Distributed under a Creative Commons license (<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>).</p>
			</div>
		</div> 

	</footer>

	<!-- ANALYTICS -->
	
	<script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "ddd07e1f2df6465c829b824325f2ee35"}'></script>

</body>

</html>